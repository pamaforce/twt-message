(function(e){function t(t){for(var n,o,c=t[0],i=t[1],u=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},a={app:0},s=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-6892481e":"55ddc96a","chunk-44d29c92":"14e80936","chunk-8ed34ce2":"8decafb8"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-6892481e":1,"chunk-44d29c92":1,"chunk-8ed34ce2":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-6892481e":"62ea1a29","chunk-44d29c92":"6b1d07b6","chunk-8ed34ce2":"7dd1007c"}[e]+".css",a=i.p+n,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===a))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===n||l===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete o[e],m.parentNode.removeChild(m),r(s)},m.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,r[1](d)}a[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},4228:function(e,t,r){"use strict";r("b567")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},a=[],s={name:"App"},c=s,i=r("2877"),u=Object(i["a"])(c,o,a,!1,null,null,null),l=u.exports,d=r("a18c"),m=r("f309");n["a"].use(m["a"]);var f=new m["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:d["a"],vuetify:f,render:function(e){return e(l)}}).$mount("#app")},"5f87":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return i}));var n=r("a78e"),o=r.n(n),a="Token";function s(){return o.a.get(a)}function c(e){return o.a.set(a,e)}function i(){return o.a.remove(a)}},a18c:function(e,t,r){"use strict";r("d3b7"),r("3ca3"),r("ddb0");var n=r("2b0e"),o=r("8c4f"),a=r("5f87"),s=r("c24f");n["a"].use(o["a"]);var c=[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:function(){return Promise.all([r.e("chunk-6892481e"),r.e("chunk-44d29c92")]).then(r.bind(null,"6511"))},meta:{title:"主页",requireAuth:!0}},{path:"/login",name:"login",component:function(){return Promise.all([r.e("chunk-6892481e"),r.e("chunk-8ed34ce2")]).then(r.bind(null,"dd7b"))},meta:{title:"登录",requireAuth:!1}}],i=new o["a"]({mode:"hash",routes:c});i.beforeEach((function(e,t,r){if(window.document.title=void 0==e.meta.title?"微北洋消息推送管理后台":"".concat(e.meta.title," - 微北洋消息推送管理后台"),e.meta.requireAuth){var n=Object(a["a"])();n||r({path:"/login",query:{from:e.fullPath}})}/login/.test(t.path)||/login/.test(e.path)||Object(s["j"])().then((function(e){sessionStorage.setItem("basicInfo",JSON.stringify(e.result))})),r()})),t["a"]=i},b567:function(e,t,r){},c24f:function(e,t,r){"use strict";r.d(t,"d",(function(){return h})),r.d(t,"f",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"j",(function(){return b})),r.d(t,"a",(function(){return y})),r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return w})),r.d(t,"g",(function(){return P})),r.d(t,"i",(function(){return k})),r.d(t,"h",(function(){return O}));r("d3b7");var n=r("bc3a"),o=r.n(n),a=r("d5b3"),s=r("b383"),c=r.n(s),i=r("a18c"),u=r("5f87");o.a.defaults.withCredentials=!0;var l="banana",d="37b590063d593716405a2c5a382b1130b28bf8a7",m="weipeiyang.twt.edu.cn",f=o.a.create({baseURL:"https://api.twt.edu.cn/api",transformRequest:[function(e,t){if(!t["Content-Type"])return t["Content-Type"]="application/x-www-form-urlencoded",c.a.stringify(e);switch(t["Content-Type"]){case"multipart/form-data":return e;case"application/json":return JSON.stringify(e);default:return c.a.stringify(e)}}],timeout:6e4,headers:{domain:m,"Access-Control-Allow-Credentials":"true",ticket:window.btoa("".concat(l,".").concat(d))},withCredentials:!0});f.interceptors.request.use((function(e){return e.headers["token"]=Object(u["a"])(),e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){if(200===e.status){var t=e.data;if("blob"===e.request.responseType)return t;switch(40001!==t["error_code"]&&40005!==t["error_code"]||i["a"].push({path:"/login"}),t["error_code"]){case 0:return Promise.resolve(t);case 40001:return a["a"].error("".concat(t["message"],",请重新登陆")),Promise.reject(t["message"]);case 40002:return a["a"].error("该用户不存在"),Promise.reject(t["message"]);case 40004:return a["a"].error("用户名或密码错误"),Promise.reject(t["message"]);case 40005:return a["a"].error("登录超时，请重新登录"),Promise.reject(t["message"]);case 50001:return a["a"].error("数据库错误"),Promise.reject(t["message"]);case 50002:return a["a"].error("逻辑错误错误"),Promise.reject(t["message"]);case 50003:return a["a"].error("无效的URL"),Promise.reject(t["message"]);case 50004:return a["a"].error("秘钥错误"),Promise.reject(t["message"]);case 50005:return a["a"].error("学号和身份证号不匹配"),Promise.reject(t["message"]);case 50006:return a["a"].error("用户名或邮箱已存在"),Promise.reject(t["message"]);case 50007:return a["a"].error("用户名已存在"),Promise.reject(t["message"]);case 50008:return a["a"].error("邮箱已存在"),Promise.reject(t["message"]);case 50009:return a["a"].error("无效的手机号"),Promise.reject(t["message"]);case 50010:return a["a"].error("发送失败，请稍后重试"),Promise.reject(t["message"]);case 50011:return a["a"].error("验证失败"),Promise.reject(t["message"]);case 50012:return a["a"].error("邮箱或手机号格式错误"),Promise.reject(t["message"]);case 50013:return a["a"].error("邮箱或手机号已存在"),Promise.reject(t["message"]);case 50014:return a["a"].error("手机号已存在"),Promise.reject(t["message"]);case 50015:return a["a"].error("目标账号信息不存在"),Promise.reject(t["message"]);case 50016:return a["a"].error("无效的学院名称"),Promise.reject(t["message"]);default:return Promise.reject(t["message"])}}else 500===e.status&&a["a"].error("500系统错误，请联系管理员");return e}),(function(e){return a["a"].error("发生未知错误，请联系管理员"),Promise.reject(e)}));var p=f;function h(e){return p({url:"auth/common",method:"post",data:e})}function g(e){return p({url:"auth/phone",method:"post",data:e})}function v(e){return p({url:"/auth/phone/msg",method:"post",data:e})}function b(){return p({url:"/user/single",method:"get"})}function y(e){return p({url:"/department/all",method:"get",params:e})}function j(e){return p({url:"/major/department/".concat(e),method:"get"})}function w(){return p({url:"/major/all",method:"get"})}function P(e){return p({url:"/notification/all",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:e})}function k(e){return p({url:"/notification/specific",method:"post",headers:{"Content-Type":"application/json"},data:e})}function O(){return p({url:"/notification/history/all",method:"get"})}},d5b3:function(e,t,r){"use strict";var n=r("5530"),o=(r("a434"),r("2b0e")),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"message-fade"}},[r("div",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"message",class:e.type,attrs:{role:"alert"}},[r("p",[e._v(" "+e._s(e.message)+" ")])])])},s=[],c={name:"message",data:function(){return{visible:!1,message:"",closed:!1,color:"",type:""}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0}}},i=c,u=(r("4228"),r("2877")),l=r("269a"),d=r.n(l),m=r("5607"),f=Object(u["a"])(i,a,s,!1,null,"429673cb",null),p=f.exports;d()(f,{Ripple:m["a"]});var h,g=o["a"].extend(p),v=[],b=0,y=function e(t){var r=Object(n["a"])({message:"出错了",type:"blue lighten-4"},t),o="message_"+b++;return h=new g({data:r}),h.id=o,h.vm=h.$mount(),document.getElementById("app").appendChild(h.vm.$el),h.vm.visible=!0,h.dom=h.vm.$el,h.dom.style.zIndex=1e4,h.dom.style.top="".concat(8+50*v.length,"px"),v.push(h),setTimeout((function(){e.close(o),e.reset()}),2e3),h.vm};y.success=function(e){y({color:"",type:"primary",message:e})},y.error=function(e){y({color:"",type:"error",message:e})},y.normal=function(e){y({color:"",type:"cyan lighten-4",message:e})},y.close=function(e){for(var t=v.length-1;t>=0;t--)if(e===v[t].id){v[t].close(),v.splice(t,1);break}},y.reset=function(){for(var e=0;e<v.length;e++)v[e].vm.$el.style.top="".concat(8+50*e,"px")},y.closeAll=function(){for(var e=v.length-1;e>=0;e--)v[e].close()};t["a"]=y}});
//# sourceMappingURL=app.4a1dd429.js.map